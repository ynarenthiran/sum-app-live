<lib-flexible-page>
  <!--title="{{collaboration?.name}}" subTitle="{{collaboration?.description}}">-->
  <lib-page-header class="collaboration-header">
    <div *ngIf="statusValues$" class="status-list mat-subheading-2">
      <span *ngFor="let statusVal of statusValues$ | async">
        {{statusVal.description}}: {{statusVal.value}}
      </span>
    </div>
    <div *ngIf="actions.length > 0" class="action-list">
      <button mat-raised-button *ngFor="let action of actions" (click)="completeAction(action)">{{action.name}}</button>
    </div>
  </lib-page-header>
  <!--Members-->
  <lib-flexible-page-section title="Members" (action)="table.onAction($event)">
    <app-comp-table #table [collaborationId]="collaborationId" [reader]="memberReader" [mapper]="memberMapper"
      [fields]="Fields_Members" [actions]="Actions_Members" [handler]="memberHandler">
    </app-comp-table>
    <lib-flexible-section-fab action="add" icon="add"></lib-flexible-section-fab>
  </lib-flexible-page-section>
  <!--Posts-->
  <lib-flexible-page-section title="Posts">
    <app-comp-list [collaborationId]="collaborationId" path="posts" [mapper]="postMapper">
      <div *appComponentListTemplate="let post" [ngClass]="post.postedBySelf ? 'post-entry-self':'post-entry-other'">
        <p>{{post.text}}</p>
        <p class="post-time">{{post.postedOn.toDate() | amTimeAgo}}</p> <!-- https://github.com/urish/ngx-moment -->
      </div>
    </app-comp-list>
  </lib-flexible-page-section>
  <!--Documents-->
  <lib-flexible-page-section title="Documents" (action)="table.onAction($event)">
    <app-comp-table #table [collaborationId]="collaborationId" path="documents" [mapper]="documentMapper"
      [fields]="Fields_Documents">
    </app-comp-table>
    <lib-flexible-section-fab action="addFile" icon="add"></lib-flexible-section-fab>
    <lib-flexible-section-action action="addFolder" icon="create_new_folder"></lib-flexible-section-action>
  </lib-flexible-page-section>
</lib-flexible-page>
<!--[path]="{path: 'members', joinScope: 'R', join: {id: 'users'}}" [mapper]="memberMapper"-->